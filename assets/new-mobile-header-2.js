function flmenu(e) {
	var a = ".site-menu";
	void 0 !== e.menu && (a = e.menu);
	var n = "active";
	void 0 !== e.activeClass && (n = e.activeClass);
	var t = "#flmenu-tools";
	if(void 0 !== e.footer && (t = e.footer), $(a).length > 0) {
		$(a).after('\n\x3c!-- fl-mobile-menu generated by js start --\x3e\n<nav id="js-flmenu" class="flmenu" itemscope itemtype="http://schema.org/SiteNavigationElement">\n    <div class="flmenu__header">\n        <a class="flmenu__home" href="/" tabindex="-1">\n            <span class="flmenu__logo"></span>\n        </a>\n        <a class="flmenu__toggle" tabindex="-1">\n            <span class="flmenu__close"></span>\n        </a>\n    </div>\n</nav>\n\x3c!-- fl-mobile-menu generated by js end --\x3e'), $(a).clone().attr("id", "js-flmenu-list").appendTo("#js-flmenu");
		var r = $("#js-flmenu-list");
		flmenuBuilder_clearHTML(r), flmenuBuilder_clearAttributes(r, n), flmenuBuilder_buildActive(r, n), flmenuBuilder_buildLevels($(r), 0, "fl-ul")
	}
	if($(".flmenu").length > 0) {
		var l = "left";
		"right" === e.position && (l = e.position), !0 === e.closeOnBodyClick && $("html").on("click touch", function(e) {
			$(".flmenu__container").is(e.target) || 0 !== $(".flmenu__container").has(e.target).length || $(".flmenu__toggle").is(e.target) || 0 !== $(".flmenu__toggle").has(e.target).length || $("html").removeClass("flmenu--active")
		}), $("html").addClass("flmenu--" + l), $("body").append('<div class="flmenu__container"><div class="flmenu__head"></div><div class="flmenu__alert"><div class="flmenu__alert-content"><span class="flmenu__icon-up" aria-hidden="true"></span><span class="flmenu__icon-up" aria-hidden="true"></span><span class="flmenu__icon-up" aria-hidden="true"></span></div></div></div>'), $(".flmenu__header").clone().appendTo(".flmenu__head"), $(".flmenu").find("ul").clone().addClass("flmenu__panel").appendTo(".flmenu__container").find("ul").remove(), $(".flmenu__panel").each(function() {
			$(this).wrap("<div></div>"), $(this).parent().addClass($(this).attr("class")).attr("data-florder", $(this).attr("data-florder")), $(this).removeAttr("class").removeAttr("data-florder")
		}), $(t).length > 0 && $(".flmenu__panel").append('<div class="flmenu__footer js-append">' + $(t).html() + "</div>"), $(".flmenu__toggle").on("click touch", function() {
			$("html").addClass("flmenu--ready").toggleClass("flmenu--active").addClass("flmenu--overflow"), $(".flmenu__panel").removeClass("flmenu__panel--active-leave flmenu__panel--parent-leave flmenu__panel--active-enter flmenu__panel--parent-enter"), setTimeout(function() {
				flmenuCheckScroll()
			}, 500)
		}), $(".flmenu__btn--enter").on("click touch", function() {
			$(".flmenu__panel").removeClass("flmenu__panel--active"), $(".flmenu__panel li").removeClass("flmenu__li--current");
			var e = $(this).parent().attr("data-florder").replace("li", "ul"),
				a = $(this).parent().attr("data-florder").replace("li", "ul").split("-");
			a.splice(-1, 1);
			a = a.join("-"), $(".flmenu__panel").removeClass("flmenu__panel--active-leave flmenu__panel--parent-leave flmenu__panel--active-enter flmenu__panel--parent-enter"), $('[data-florder="' + a + '"]').addClass("flmenu__panel--parent-enter"), $('[data-florder="' + e + '"]').addClass("flmenu__panel--active-enter flmenu__panel--active"), setTimeout(function() {
				flmenuCheckScroll()
			}, 500)
		}), $(".flmenu__leave").on("click touch", function() {
			$(".flmenu__panel").removeClass("flmenu__panel--active");
			var e = $(this).parent().attr("data-florder").replace("li", "ul").split("-");
			e.splice(-1, 1);
			e.splice(-1, 1), e = e.join("-");
			var a = $(this).parent().attr("data-florder").replace("li", "ul").split("-");
			a.splice(-1, 1);
			a = a.join("-"), $(".flmenu__panel").removeClass("flmenu__panel--active-leave flmenu__panel--parent-leave flmenu__panel--active-enter flmenu__panel--parent-enter"), $('[data-florder="' + e + '"]').addClass("flmenu__panel--parent-leave flmenu__panel--active"), $('[data-florder="' + a + '"]').addClass("flmenu__panel--active-leave"), setTimeout(function() {
				flmenuCheckScroll()
			}, 500)
		});
		var i = !1;
		$(window).on("resize", function() {
			i = !0
		}), setInterval(function() {
			i && (i = !1, flmenuCheckScroll())
		}, 300)
	}
}

function flmenuCheckScroll() {
	$("html").removeClass("flmenu--overflow"), $(".flmenu__container").removeClass("flmenu__container--scroll"), $(".flmenu__panel.flmenu__panel--active").detectElementScrollbar() ? ($(".flmenu__container").addClass("flmenu__container--scroll"), $(".flmenu__panel.flmenu__panel--active").bind("scroll", function() {
		$(this).scrollTop() + $(this).innerHeight() + 1 >= $(this)[0].scrollHeight ? $(".flmenu__container").removeClass("flmenu__container--scroll") : $(".flmenu__container").addClass("flmenu__container--scroll")
	})) : $(".flmenu__panel.flmenu__panel--active").unbind("scroll")
}

function flmenuBuilder_clearAttributes(e, a) {
	var n = ["src", "alt", "href"],
		t = $(e).find("*"),
		r = $(e);
	$(r).each(function() {
		for(var e = this.attributes, a = e.length; a--;) {
			var t = e[a]; - 1 === $.inArray(t.name, n) && this.removeAttributeNode(t)
		}
	}), $(t).each(function() {
		for(var e = $(this).is("." + a), t = this.attributes, r = t.length; r--;) {
			var l = t[r]; - 1 === $.inArray(l.name, n) && this.removeAttributeNode(l)
		}
		e && $(this).addClass(a)
	})
}

function flmenuBuilder_clearHTML(e) {
	$(e).find("ul").each(function() {
		$(this).unwrapUntil("li")
	});
	var a = $(e).find("a");
	a.each(function() {
		$(this).unwrapUntil("li"), a.find("> b, > strong, > span, > div, > i").replaceWith(function() {
			return $(this).contents()
		})
	}), $(e).find("a > img").each(function() {
		if(void 0 !== $(this).parent().attr("title")) {
			var e = $(this).parent().attr("title");
			$(this).parent().append(e).find("img").remove()
		} else {
			var a = $(this).attr("alt");
			$(this).parent().append(a).find("img").remove()
		}
	}), $(e).find("div:not([attr_all])").remove()
}

function flmenuBuilder_buildActive(e, a) {
	var n = $(e).find("." + a);
	if(0 === n.length) $(e).attr("data-florder", "fl-ul").addClass("flmenu__panel--active");
	else {
		$(e).attr("data-florder", "fl-ul").removeClass("flmenu__panel--active");
		var t = n.parentsUntil("#js-flmenu").length;
		n.each(function() {
			var e = $(this).parent();
			if("A" === this.tagName)
				for($(this).parent().addClass("flmenu__li--current").parent().addClass("flmenu__panel--active"), $(this).addClass("flmenu__path"); t--;) e = e.parent().parent(), e.find("> a").addClass("flmenu__path");
			if("LI" === this.tagName)
				for($(this).addClass("flmenu__li--current").parent().addClass("flmenu__panel--active"), $(this).find("> a").addClass("flmenu__path"); t--;) e = e.parent(), e.find("> a").addClass("flmenu__path")
		})
	}
	$("#js-flmenu").find("." + a).removeClass(a)
}

function flmenuBuilder_buildLevels(e, a, n) {
	e.addClass("lvl-" + a);
	var t = n.replace("ul", "li"),
		r = e.children("li");
	r.attr("data-florder", function(e) {
		return t + "-" + (e + 1)
	}), r.each(function() {
		var e = $(this).attr("data-florder").replace("li", "ul");
		$(this).find("> ul").attr("data-florder", e);
		var n = $(this).children("ul");
		if(n.length > 0) {
			var t = $(this).find("> a").text();
			$(this).find("> ul > li:first-child").prepend('<div class="flmenu__leave"><span class="flmenu__btn--leave"></span>' + t + "</div>"), $('<span class="flmenu__btn--enter"></span>').insertBefore($(this).find("> a"));
			var r = $(this).attr("data-florder");
			flmenuBuilder_buildLevels(n, a + 1, r)
		}
	})
}

function isIE() {
	return "Microsoft Internet Explorer" == navigator.appName || "Netscape" == navigator.appName && null !== new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent)
}

function detectSafari() {
	var e = navigator.userAgent.toLowerCase();
	if(-1 != e.indexOf("safari")) return !(e.indexOf("chrome") > -1)
}

function detectElementScrollbar() {
	$("[data-detect-scrollbar]").each(function() {
		$(this).get(0).scrollHeight > $(this).get(0).clientHeight ? $(this).addClass("has-scrollbar").removeClass("hasnt-scrollbar") : $(this).addClass("hasnt-scrollbar").removeClass("has-scrollbar")
	})
}! function(e) {
	e.fn.unwrapUntil = function() {
		var a = arguments[0],
			n = typeof arguments[0];
		return "number" === n ? e.each(this, function() {
			for(var n = e(this), t = 0; t < a; t++) n.unwrap()
		}) : "string" === n ? e.each(this, function() {
			var n = e(this);
			if(n.closest(a).length > 0)
				for(; 0 === n.parent(a).length;) n.unwrap()
		}) : "object" === n && e.each(this, function() {
			var n = e(this);
			if(n.closest(a).length > 0)
				for(; n.parent()[0] !== a[0];) n.unwrap()
		}), this
	}
}(jQuery);
var htmlRootForDetectBrowser = document.getElementsByTagName("html")[0];
isIE() ? htmlRootForDetectBrowser.className += " ie" : htmlRootForDetectBrowser.className += " noie", detectSafari() && (htmlRootForDetectBrowser.className += " safari"), $(document).ready(function() {
	$("body").keydown(function(e) {
		27 == e.keyCode && $("html").removeClass("flmenu--active")
	})
}), $.fn.detectElementScrollbar = function() {
	return $(this).get(0).scrollHeight > $(this).get(0).clientHeight ? ($(this).addClass("has-scrollbar").removeClass("hasnt-scrollbar"), !0) : ($(this).addClass("hasnt-scrollbar").removeClass("has-scrollbar"), !1)
}, $(document).ready(function() {
	detectElementScrollbar()
}), $(window).on("resize", function() {
	detectElementScrollbar()
}), $(window).on("load", function() {
	detectElementScrollbar()
}), $(window).on("load", function() {
	$("body").outerHeight() > $(window).height() ? $("html").addClass("has-body-scrollbar") : $("html").addClass("hasnt-body-scrollbar")
});